{"version":3,"sources":["../src/AbstractHandler.js"],"names":["debug","AbstractHandler","program","credstash","projectName","data","constructor","name","resolve","handle","then","result","dataAltered","value","key","getType","getName"],"mappings":";;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,QAAQ,qBAAS,mBAAT,CAAd;;IAEMC,e;AACJ,2BAAYC,OAAZ,EAAqBC,SAArB,EAAgCC,WAAhC,EAA6C;AAAA;;AAC3C,SAAKF,OAAL,GAAeA,OAAf;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACD;;;;yBAEIC,I,EAAM;AAAA;;AACTL,YAAM,oBAAN,EAA4B,KAAKM,WAAL,CAAiBC,IAA7C;AACA,aAAO,uBAAY;AAAA,eAAWC,QAAQ,MAAKC,MAAL,CAAYJ,IAAZ,CAAR,CAAX;AAAA,OAAZ,EACJK,IADI,CACC,UAACC,MAAD,EAAY;AAChB,YAAMC,cAAc,EAApB;AACA,6BAAQD,MAAR,EAAgB,UAACE,KAAD,EAAQC,GAAR,EAAgB;AAC9BF,sBAAY,sCAAiBE,GAAjB,CAAZ,IAAqCD,KAArC;AACD,SAFD;;AAIAb,cAAM,4BAAN,EAAoC,MAAKM,WAAL,CAAiBC,IAArD;;AAEA,eAAOK,WAAP;AACD,OAVI,CAAP;AAWD;;;+BAEU;AACT,aAAO,EAAP;AACD;;;8BAES;AACR,mBAAW,KAAKR,WAAhB,SAA+B,KAAKW,OAAL,EAA/B,SAAiD,KAAKC,OAAL,EAAjD;AACD;;;;;;kBAGYf,e","file":"AbstractHandler.js","sourcesContent":["import debugPkg from 'debug';\nimport { forEach } from 'lodash';\nimport { removeNamePrefix } from './helpers/envFileHelpers';\n\nconst debug = debugPkg('credstash-to-envs');\n\nclass AbstractHandler {\n  constructor(program, credstash, projectName) {\n    this.program = program;\n    this.credstash = credstash;\n    this.projectName = projectName;\n  }\n\n  exec(data) {\n    debug('Exec handler %o...', this.constructor.name);\n    return new Promise(resolve => resolve(this.handle(data)))\n      .then((result) => {\n        const dataAltered = {};\n        forEach(result, (value, key) => {\n          dataAltered[removeNamePrefix(key)] = value;\n        });\n\n        debug('Exec handler %o...Success!', this.constructor.name);\n\n        return dataAltered;\n      });\n  }\n\n  getOrder() {\n    return 10;\n  }\n\n  getPath() {\n    return `/${this.projectName}/${this.getType()}/${this.getName()}`;\n  }\n}\n\nexport default AbstractHandler;\n"]}